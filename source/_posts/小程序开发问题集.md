---
title: å°ç¨‹åºå¼€å‘é—®é¢˜é›†
comments: true
categories:
  - å°ç¨‹åº
tags:
  - å°ç¨‹åº
abbrlink: 3f741c8d
date: 2019-03-19 22:49:23
---

ç›®å½•

- [Illegal BufferæŠ¥é”™(å°ç¨‹åºå¼€å‘è§£å¯†encryptedData)](#IllegalBufferæŠ¥é”™(å°ç¨‹åºå¼€å‘è§£å¯†encryptedData))
  - [æå‡ºé—®é¢˜](#æå‡ºé—®é¢˜)
- [UniAppå°ç¨‹åºä½¿ç”¨Echarts](#UniAppå°ç¨‹åºä½¿ç”¨Echarts)
- [å°ç¨‹åºä¸­ä½¿ç”¨echarts-tooltipé‡åˆ°çš„é—®é¢˜](#å°ç¨‹åºä¸­ä½¿ç”¨echarts-tooltipé‡åˆ°çš„é—®é¢˜)
- [extAppidæ²¡æœ‰æˆæƒ](#extAppidæ²¡æœ‰æˆæƒ);


## Illegal BufferæŠ¥é”™(å°ç¨‹åºå¼€å‘è§£å¯†encryptedData)
> https://blog.csdn.net/xgangzai/article/details/90107311

### æå‡ºé—®é¢˜:
æœ€è¿‘åœ¨æä¸€ä¸‹å°ç¨‹åºæˆæƒç™»å½•(ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½)ï¼Œåœ¨å¯†é’¥ï¼ŒappIdç­‰å†…å®¹éƒ½æ²¡é—®é¢˜çš„æƒ…å†µä¸‹ï¼Œè¯·æ±‚æˆæƒæ³¨å†Œæ¥å£ç­‰æ—¶å€™ä¸€ç›´æŠ¥é”™ Illegal Bufferã€‚

### é—®é¢˜åŸå› ï¼š
åœ¨è§£å¯†encryptedDataæ•°æ®çš„æ—¶å€™ï¼Œä¼ è¿‡æ¥çš„æ•°æ®é‡Œé¢å¯èƒ½ä¼šæœ‰+ç­‰ç¬¦å·ï¼Œ
å¦‚ä¸‹ï¼š

```
 encryptedData: 'BQRDHWz16TcmEOkp1yV0eMd8L0a7orJeA1y8uNZycPHO41MBZmYm1jbMMh36tozePbtnbdxovStZhEbMKW9fYBpUKcXDedcChyowIXuYNic2CSItr4lv9TI47kfmBrhYE39wGE20BMtj8ORVQ2xM5A3X1uL7HHI5IZbnEqQS1W38PzGbJBW8IkybFQHXwtvigWquekDe1DmV1LA8vEFflUIjfuA5cWgGJJstzxi8bjtUMjQC/hcPRb+7pNzpo+jmtE0jU9F/a5V95lK6foYTu1ErWjEezaJ3YwujWK5oq581/b5TIL+vJPUn+vdXj71plfrH7WnSoC0ZS3yF6ToBcH17GAZsyaiGqOl88NVtkuwCA/WGMqpvnAUfromw5kaZj1QFA6U/N/lF43HdOyhjQUAkPsIMJLaHkfso6Aww0IYTcIc+qXOV8Rcrh0h61R34Dqkn11iE4mo1fmUc14ynvd4d6KXB2AvqOl+dHOd+SnRGYwTINAkPuyhxQRA/Yqj2F6MlUdKZxth73w2JEUYkoA==',
 iv: 'GcF/mmbBBQA7kJOSR9I/7w=='
```

è¿™äº›ç¬¦å·ä¼ é€’ç»™æœåŠ¡å™¨å°±ä¼šæ¶ˆå¤±ï¼Œå¯¼è‡´å¾®ä¿¡æä¾›ç­‰è§£å¯†å‡½æ•°ä¸€ç›´æŠ¥é”™ã€‚

### è§£å†³åŠæ³•:
å‰ç«¯åœ¨ä¼ é€’encryptedDataå’Œivå‘é‡ç­‰æ—¶å€™éœ€è¦è¿›è¡ŒencodeURIComponentç¼–ç 


## UniAppå°ç¨‹åºä½¿ç”¨Echarts

> https://www.jianshu.com/p/5537e5053dc1
> https://github.com/Zhuyi731/echarts-for-wx-uniapp


### é—®é¢˜ï¼Ÿ

#### 1.é€šè¿‡uniappæ‰“åŒ…çš„å°ç¨‹åº`formatter: function` ä¸èƒ½ç”¨
åœºæ™¯è§£å†³ï¼šé€šè¿‡éšè—ä¸€æ¡`series`æ•°æ®
```
{
    //name,
    type: 'line',
    data: penData,
    yAxisIndex: 0,
    smooth: true,
    symbolSize: 0, // symbolçš„å¤§å°è®¾ç½®ä¸º0
    showSymbol: false, // ä¸æ˜¾ç¤ºsymbol
    lineStyle: {
      width: 0, // çº¿å®½æ˜¯0
      color: 'rgba(0, 0, 0, 0)', // çº¿çš„é¢œè‰²æ˜¯é€æ˜çš„
    },
},
```

## å°ç¨‹åºä¸­ä½¿ç”¨echarts-tooltipé‡åˆ°çš„é—®é¢˜

[reference](https://github.com/ecomfe/echarts-for-weixin/issues/478)

### 1ã€å¦‚ä½•æ¢è¡Œï¼Ÿ

ç”¨`\n`æ¢è¡Œï¼Œå°ç¨‹åºç‰ˆechartsä½¿ç”¨å¯Œæ–‡æœ¬æ¸²æŸ“ï¼Œä¸æ”¯æŒ`html`

### 2ã€æ€ä¹ˆæ˜¾ç¤ºå›¾ä¾‹çš„å°åœ†ç‚¹ï¼Ÿ

ç”¨ formatterï¼Œå½©è‰²çš„åœ†ç‚¹ç”¨ `'{marker0at0|}'`, `{marker1at0|}`, `{marker2at0|}`' åˆ†åˆ«è¡¨ç¤ºç¬¬ `0ã€1ã€2` ä¸ªç³»åˆ—ï¼Œå¯èƒ½å®ç°å¾—ä¸æ˜¯å¾ˆç¾ï¼Œä½†æ˜¯è‡³å°‘æš‚æ—¶å¯ä»¥è¿™ä¹ˆç”¨ç€ã€‚

### 3ã€ä¸æ”¯æŒ`renderMode: html`

æœ€ç»ˆè§£å†³ğŸš€

```
formatter : function(params) {
  // å¯ä»¥æ‰“å°ä¸€ä¸‹paramsè‡ªè¡ŒæŸ¥çœ‹
  let res = `${params[0].name}\n`
  res += `{marker0at0|} ${params[0].seriesName}: ${params[0].value[1]}\n`
  res += `{marker1at0|} ${params[1].seriesName}: ${params[1].value[2]}\n`
  res += `{marker2at0|} ${params[2].seriesName}: ${params[2].value[3]}`
  return res
},
```

## extAppidæ²¡æœ‰æˆæƒ

ç¡®ä¿ç¬¬ä¸‰ä»£å¹³å°å·²ç»æˆæƒäº†å°ç¨‹åº
`extAppid`å’Œ`appid`å¯ä»¥ä¸€æ ·


## å°ç¨‹åº è¯·æ±‚wx.requestPayment è¿”å›æ”¯ä»˜åœºæ™¯éæ³•

è®°å½•ä¸€ä¸‹æˆ‘é‡åˆ°çš„è¿™ä¸ªé—®é¢˜ï¼Œå…ˆç¡®ä¿å‰ç«¯çš„æ•°æ®æœ‰æ²¡æœ‰é”™ï¼Œæ²¡æœ‰çš„è¯ä¸€èˆ¬å‡ºç°åœ¨æ¥å£çš„é—®é¢˜ã€‚

åç«¯éœ€è¦æ’æŸ¥ï¼š

- openIDè¦æ·»åŠ è¿˜æœ‰ä¸€ä¸ªç±»å‹è¦æ”¹æˆJSAPI
- ç­¾åæ–¹å¼ä¹Ÿè¦æ³¨æ„æ˜¯ä¸æ˜¯æ ¹æ®æ–‡æ¡£ä¸€è‡´

## å°ç¨‹åº ç»å¸¸æŠ¥Lengthé”™è¯¯ã€‚

å½“ç„¶é¡µé¢å‡ºç°`length = 0`æˆ–`length != '0'`å®¹æ˜“å‡ºç°æ•°æ®ç±»å‹é”™è¯¯